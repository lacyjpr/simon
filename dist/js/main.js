document.addEventListener("DOMContentLoaded",function(){function e(){m.computerArray=[];for(var e=0;e<20;e++)m.computerArray.push(m.colors[Math.floor(4*Math.random())])}function t(e){switch(e){case"red":f.classList.add("active"),m.sound.red.play(),setTimeout(function(){f.classList.remove("active")},400);break;case"blue":p.classList.add("active"),m.sound.blue.play(),setTimeout(function(){p.classList.remove("active")},400);break;case"green":L.classList.add("active"),m.sound.green.play(),setTimeout(function(){L.classList.remove("active")},400);break;case"yellow":b.classList.add("active"),m.sound.yellow.play(),setTimeout(function(){b.classList.remove("active")},400)}}function n(e){switch(e){case"red":m.sound.red.play();break;case"blue":m.sound.blue.play();break;case"green":m.sound.green.play();break;case"yellow":m.sound.yellow.play();break;default:console.log("error")}}function o(){t("red"),w.classList.add("unclickable"),setTimeout(function(){t("blue")},400),setTimeout(function(){t("yellow")},800),setTimeout(function(){t("green")},1200),setTimeout(function(){t("red")},1600),setTimeout(function(){t("blue")},2e3),setTimeout(function(){t("yellow")},2400),setTimeout(function(){t("green")},2800),setTimeout(function(){w.classList.remove("unclickable"),l()},3800)}function c(){t("green"),setTimeout(function(){t("yellow")},400),setTimeout(function(){t("blue")},800),setTimeout(function(){t("red")},1200),setTimeout(function(){t("green")},1600),setTimeout(function(){t("yellow")},2e3),setTimeout(function(){t("blue")},2400),setTimeout(function(){t("red")},2800)}function s(){g.innerHTML="--",m.running=!0,m.count=0,o(),e(),v.classList.add("unclickable")}function l(){m.count++,g.innerHTML=m.count,a()}function a(){g.innerHTML=m.count,m.playerArray=[];var e=0,n=setInterval(function(){f.classList.add("unclickable"),p.classList.add("unclickable"),L.classList.add("unclickable"),b.classList.add("unclickable"),t(m.computerArray[e]),++e>=m.count&&(clearInterval(n),i())},700)}function i(){f.classList.remove("unclickable"),p.classList.remove("unclickable"),L.classList.remove("unclickable"),b.classList.remove("unclickable"),m.move="";for(var e=0;e<y.length;e++)y[e].addEventListener("click",u,!1)}function u(){m.move=this.id,n(m.move),m.playerArray.push(m.move),r()}function r(){m.playerArray[m.playerArray.length-1]!==m.computerArray[m.playerArray.length-1]?!0===m.strict?(g.innerHTML="!!!",m.sound.red.play(),m.sound.blue.play(),m.sound.green.play(),m.sound.yellow.play(),setTimeout(function(){s()},2e3)):(g.innerHTML="!!!",setTimeout(function(){g.innerHTML=m.count},2e3),m.sound.red.play(),m.sound.blue.play(),m.sound.green.play(),m.sound.yellow.play(),setTimeout(function(){a()},2500)):5===m.count&&m.playerArray.length===m.count?(setTimeout(function(){c()},700),g.innerHTML="Win",v.classList.remove("unclickable"),v.classList.add("clickable"),f.classList.add("unclickable"),p.classList.add("unclickable"),L.classList.add("unclickable"),b.classList.add("unclickable")):m.playerArray.length<m.count?i():l()}function d(){m.strict=!m.strict,console.log("Strict mode = "+m.strict),T.classList.toggle("on")}var m={running:!1,strict:!1,count:0,colors:["red","blue","green","yellow"],computerArray:[],playerArray:[],move:"",sound:{red:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound1.mp3"),blue:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound2.mp3"),green:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound3.mp3"),yellow:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound4.mp3")}},y=document.getElementsByClassName("btn"),f=document.getElementById("red"),p=document.getElementById("blue"),L=document.getElementById("green"),b=document.getElementById("yellow"),g=document.getElementById("display"),v=document.getElementById("start"),T=document.getElementById("led"),k=document.getElementById("strict"),w=document.getElementById("reset");v.addEventListener("click",function(){s()}),k.addEventListener("click",function(){d()}),w.addEventListener("click",function(){s()})});
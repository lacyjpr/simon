document.addEventListener("DOMContentLoaded",function(){function e(){u.computerArray=[];for(var e=0;e<20;e++)u.computerArray.push(u.colors[Math.floor(4*Math.random())]);console.log(u.computerArray)}function n(e){switch(e){case"red":m.classList.add("active"),u.sound.red.play(),setTimeout(function(){m.classList.remove("active")},400);break;case"blue":y.classList.add("active"),u.sound.blue.play(),setTimeout(function(){y.classList.remove("active")},400);break;case"green":g.classList.add("active"),u.sound.green.play(),setTimeout(function(){g.classList.remove("active")},400);break;case"yellow":p.classList.add("active"),u.sound.yellow.play(),setTimeout(function(){p.classList.remove("active")},400);break;default:console.log("error")}}function o(e){switch(e){case"red":u.sound.red.play();break;case"blue":u.sound.blue.play();break;case"green":u.sound.green.play();break;case"yellow":u.sound.yellow.play();break;default:console.log("error")}}function l(){n("red"),setTimeout(function(){n("blue")},400),setTimeout(function(){n("yellow")},800),setTimeout(function(){n("green")},1200),setTimeout(function(){n("red")},1600),setTimeout(function(){n("blue")},2e3),setTimeout(function(){n("yellow")},2400),setTimeout(function(){n("green")},2800),setTimeout(function(){t()},3800)}function c(){b.innerHTML="--",u.running=!0,u.count=0,l(),e(),L.classList.add("unclickable")}function t(){console.log("computerPlay called"),u.count++,console.log("game.count "+u.count),b.innerHTML=u.count,a()}function a(){b.innerHTML=u.count,u.playerArray=[];var e=0,o=setInterval(function(){m.classList.add("unclickable"),console.log(m.classList.contains("unclickable")),y.classList.add("unclickable"),console.log(y.classList.contains("unclickable")),g.classList.add("unclickable"),console.log(g.classList.contains("unclickable")),p.classList.add("unclickable"),console.log(p.classList.contains("unclickable"));var l=u.computerArray[e];n(l),console.log(l),++e>=u.count&&(clearInterval(o),s())},700)}function s(){console.log("playerPlay called"),m.classList.remove("unclickable"),y.classList.remove("unclickable"),g.classList.remove("unclickable"),p.classList.remove("unclickable"),u.move="";for(var e=0;e<d.length;e++)d[e].addEventListener("click",i,!1)}function i(){console.log("getPlay called"),u.move=this.id,console.log("game.move "+u.move),o(u.move),u.playerArray.push(u.move),console.log(u.playerArray),r()}function r(){u.playerArray[u.playerArray.length-1]!==u.computerArray[u.playerArray.length-1]?!0===u.strict?c():(console.log("wrong!"),u.sound.red.play(),u.sound.blue.play(),u.sound.green.play(),u.sound.yellow.play(),a()):5===u.count&&u.playerArray.length===u.count?(b.innerHTML="Win",L.classList.remove("unclickable"),L.classList.add("clickable"),m.classList.add("unclickable"),y.classList.add("unclickable"),g.classList.add("unclickable"),p.classList.add("unclickable")):u.playerArray.length<u.count?s():t()}var u={running:!1,strict:!1,count:0,colors:["red","blue","green","yellow"],computerArray:[],playerArray:[],move:"",sound:{red:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound1.mp3"),blue:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound2.mp3"),green:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound3.mp3"),yellow:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound4.mp3")}},d=document.getElementsByClassName("btn"),m=document.getElementById("red"),y=document.getElementById("blue"),g=document.getElementById("green"),p=document.getElementById("yellow"),b=document.getElementById("display"),L=document.getElementById("start");document.getElementById("led"),document.getElementById("strict"),document.getElementById("reset");L.addEventListener("click",function(){c()})});
document.addEventListener("DOMContentLoaded",function(){function e(){r.computerArray=[];for(var e=0;e<20;e++)r.computerArray.push(r.colors[Math.floor(4*Math.random())]);console.log(r.computerArray)}function t(e){switch(e){case"red":i.classList.add("active"),r.sound.red.play(),setTimeout(function(){i.classList.remove("active")},400);break;case"blue":d.classList.add("active"),r.sound.blue.play(),setTimeout(function(){d.classList.remove("active")},400);break;case"green":m.classList.add("active"),r.sound.green.play(),setTimeout(function(){m.classList.remove("active")},400);break;case"yellow":y.classList.add("active"),r.sound.yellow.play(),setTimeout(function(){y.classList.remove("active")},400);break;default:console.log("error")}}function n(e){switch(e){case"red":r.sound.red.play();break;case"blue":r.sound.blue.play();break;case"green":r.sound.green.play();break;case"yellow":r.sound.yellow.play();break;default:console.log("error")}}function o(){t("red"),setTimeout(function(){t("blue")},400),setTimeout(function(){t("yellow")},800),setTimeout(function(){t("green")},1200),setTimeout(function(){t("red")},1600),setTimeout(function(){t("blue")},2e3),setTimeout(function(){t("yellow")},2400),setTimeout(function(){t("green")},2800),setTimeout(function(){a()},3800)}function c(){f.innerHTML="--",r.running=!0,r.count=0,o(),e(),p.classList.add("unclickable")}function a(){r.count++,[].forEach.call(u,function(e){e.classList.add("unclickable")}),f.innerHTML=r.count,l(),s()}function l(){var e=0,n=setInterval(function(){var o=r.computerArray[e];t(o),console.log(o),++e>=r.count&&clearInterval(n)},700)}function s(){function e(){console.log("getPlay called"),r.move=this.id,console.log("game.move "+r.move),n(r.move),r.playerArray.push(r.move),console.log(r.playerArray),t()}function t(){r.playerArray[r.playerArray.length-1]!==r.computerArray[r.playerArray.length-1]?!0===r.strict?c():l():5===r.count?(f.innerHTML="Win",p.classList.remove("unclickable"),p.classList.add("clickable")):a()}r.playerArray=[],[].forEach.call(u,function(e){e.classList.remove("unclickable")}),[].forEach.call(u,function(e){e.classList.add("clickable")});for(var o=0;o<u.length;o++)u[o].addEventListener("click",e,!1)}var r={running:!1,strict:!1,count:0,colors:["red","blue","green","yellow"],computerArray:[],playerArray:[],move:"",sound:{red:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound1.mp3"),blue:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound2.mp3"),green:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound3.mp3"),yellow:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound4.mp3")}},u=document.getElementsByClassName("btn"),i=document.getElementById("red"),d=document.getElementById("blue"),m=document.getElementById("green"),y=document.getElementById("yellow"),f=document.getElementById("display"),p=document.getElementById("start");document.getElementById("led"),document.getElementById("strict"),document.getElementById("reset");p.addEventListener("click",function(){c()})});
document.addEventListener("DOMContentLoaded",function(){function e(){d.computerArray=[];for(var e=0;e<20;e++)d.computerArray.push(d.colors[Math.floor(4*Math.random())])}function t(e){switch(e){case"red":y.classList.add("active"),d.sound.red.play(),setTimeout(function(){y.classList.remove("active")},400);break;case"blue":f.classList.add("active"),d.sound.blue.play(),setTimeout(function(){f.classList.remove("active")},400);break;case"green":p.classList.add("active"),d.sound.green.play(),setTimeout(function(){p.classList.remove("active")},400);break;case"yellow":b.classList.add("active"),d.sound.yellow.play(),setTimeout(function(){b.classList.remove("active")},400)}}function n(e){switch(e){case"red":d.sound.red.play();break;case"blue":d.sound.blue.play();break;case"green":d.sound.green.play();break;case"yellow":d.sound.yellow.play();break;default:console.log("error")}}function o(){t("red"),setTimeout(function(){t("blue")},400),setTimeout(function(){t("yellow")},800),setTimeout(function(){t("green")},1200),setTimeout(function(){t("red")},1600),setTimeout(function(){t("blue")},2e3),setTimeout(function(){t("yellow")},2400),setTimeout(function(){t("green")},2800),setTimeout(function(){a()},3800)}function c(){t("green"),setTimeout(function(){t("yellow")},400),setTimeout(function(){t("blue")},800),setTimeout(function(){t("red")},1200),setTimeout(function(){t("green")},1600),setTimeout(function(){t("yellow")},2e3),setTimeout(function(){t("blue")},2400),setTimeout(function(){t("red")},2800)}function s(){L.innerHTML="--",d.running=!0,d.count=0,o(),e(),v.classList.add("unclickable")}function a(){d.count++,L.innerHTML=d.count,l()}function l(){L.innerHTML=d.count,d.playerArray=[];var e=0,n=setInterval(function(){y.classList.add("unclickable"),f.classList.add("unclickable"),p.classList.add("unclickable"),b.classList.add("unclickable"),t(d.computerArray[e]),++e>=d.count&&(clearInterval(n),u())},700)}function u(){y.classList.remove("unclickable"),f.classList.remove("unclickable"),p.classList.remove("unclickable"),b.classList.remove("unclickable"),d.move="";for(var e=0;e<m.length;e++)m[e].addEventListener("click",i,!1)}function i(){d.move=this.id,n(d.move),d.playerArray.push(d.move),r()}function r(){d.playerArray[d.playerArray.length-1]!==d.computerArray[d.playerArray.length-1]?!0===d.strict?s():(L.innerHTML="!!!",setTimeout(function(){L.innerHTML=d.count},2500),d.sound.red.play(),d.sound.blue.play(),d.sound.green.play(),d.sound.yellow.play(),setTimeout(function(){l()},3e3)):5===d.count&&d.playerArray.length===d.count?(setTimeout(function(){c()},700),L.innerHTML="Win",v.classList.remove("unclickable"),v.classList.add("clickable"),y.classList.add("unclickable"),f.classList.add("unclickable"),p.classList.add("unclickable"),b.classList.add("unclickable")):d.playerArray.length<d.count?u():a()}var d={running:!1,strict:!1,count:0,colors:["red","blue","green","yellow"],computerArray:[],playerArray:[],move:"",sound:{red:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound1.mp3"),blue:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound2.mp3"),green:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound3.mp3"),yellow:new Audio("https://s3.amazonaws.com/freecodecamp/simonSound4.mp3")}},m=document.getElementsByClassName("btn"),y=document.getElementById("red"),f=document.getElementById("blue"),p=document.getElementById("green"),b=document.getElementById("yellow"),L=document.getElementById("display"),v=document.getElementById("start");document.getElementById("led"),document.getElementById("strict"),document.getElementById("reset");v.addEventListener("click",function(){s()})});